# ================================================================
# Railway 환경변수 설정 가이드
# ================================================================
# Railway 대시보드 사용법:
# 1. 서비스 선택 > Variables 탭 클릭
# 2. "RAW Editor" 버튼 클릭  
# 3. 아래 필요한 환경변수들을 복사하여 붙여넣기
# 4. "Deploy Changes" 버튼 클릭
# 
# 필수 환경변수: ENCRYPTION_KEY, JWT_ACCESS_SECRET, ETHEREUM_RPC_URL,
#              MAIN_CONTRACT_ADDRESS, PRIVATE_KEY, AI API키 중 하나
# ================================================================

# ----------------------------------------------------------------
# 서버 설정 (기본값 있음 - 선택사항)
# ----------------------------------------------------------------
NODE_ENV=production
PORT=3000
LOG_LEVEL=info
MONITORING_INTERVAL=60000

# ----------------------------------------------------------------
# 보안 설정 (필수)
# ----------------------------------------------------------------
# 암호화 키 (32자 이상 필수)
ENCRYPTION_KEY=your-32-character-encryption-key-here

# JWT 설정 (JWT_ACCESS_SECRET 또는 JWT_SECRET 필수)  
JWT_ACCESS_SECRET=your-jwt-access-secret-key-here
JWT_REFRESH_SECRET=your-jwt-refresh-secret-key-here
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ----------------------------------------------------------------
# 블록체인 설정 (실제 기능 사용시 필수)
# ----------------------------------------------------------------
# 이더리움 RPC URL
ETHEREUM_RPC_URL=https://base-sepolia.g.alchemy.com/v2/YOUR_API_KEY

# 컨트랙트 주소 (MAIN_CONTRACT_ADDRESS 또는 ORACLE_CONTRACT_ADDRESS)
MAIN_CONTRACT_ADDRESS=0xYourContractAddressHere

# 개인키 (PRIVATE_KEY 또는 ORACLE_PRIVATE_KEY_ENCRYPTED + ENCRYPTION_KEY)
PRIVATE_KEY=0xYourPrivateKeyHere

# 네트워크 설정
ETHEREUM_NETWORK=goerli

# Ethereum 폴링 설정
ETHEREUM_POLLING_INTERVAL=10000
FILTER_REFRESH_INTERVAL=240000

# Railway 실제 블록체인 사용 (기본값: false, 안전 모드)
USE_REAL_BLOCKCHAIN=false

# ----------------------------------------------------------------  
# AI 서비스 설정 (최소 하나 필수)
# ----------------------------------------------------------------
# OpenAI (ChatGPT)
OPENAI_API_KEY=sk-proj-your-openai-key-here
OPENAI_MODEL=gpt-4
OPENAI_FALLBACK_TO_MOCK=false

# Anthropic (Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here  
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# Google (Gemini)
GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_MODEL=gemini-pro

# ----------------------------------------------------------------
# 데이터베이스 설정 (선택사항)
# ----------------------------------------------------------------
USE_MONGODB=false
MONGODB_URI=mongodb://localhost:27017
MONGODB_DB_NAME=agora_oracle

# ----------------------------------------------------------------
# CORS 및 보안 설정 (선택사항)
# ----------------------------------------------------------------
ALLOWED_ORIGINS=https://your-frontend-domain.com
BCRYPT_ROUNDS=12

# ================================================================
# 테스트용 기본값 (Railway Degraded 모드)
# ================================================================  
# 아래 주석을 해제하고 사용하면 환경변수 없이도 서버가 시작됩니다.
# 개발/테스트 목적으로만 사용하세요.
#
# ENCRYPTION_KEY=railway-default-encryption-key-32-characters!!!
# JWT_ACCESS_SECRET=railway-default-jwt-secret-key-for-testing-32-chars
# ETHEREUM_RPC_URL=http://localhost:8545
# MAIN_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
# PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
# ETHEREUM_POLLING_INTERVAL=10000
# FILTER_REFRESH_INTERVAL=240000
# USE_REAL_BLOCKCHAIN=false
# OPENAI_API_KEY=dummy-openai-key-for-railway-testing
# ================================================================

# ================================================================
# Railway 특화 설정 팁
# ================================================================
# 1. Sealed Variables 사용 권장:
#    - PRIVATE_KEY, ENCRYPTION_KEY, JWT_SECRET, API 키들
#    - Variables 탭에서 3점 메뉴 > "Seal" 선택
#
# 2. Shared Variables 활용:
#    - 여러 서비스에서 공통으로 사용하는 값들
#    - Project Variables로 설정하여 중복 제거
#
# 3. Reference Variables:
#    - Railway 서비스 간 변수 참조
#    - 예: DATABASE_URL=${{Postgres.DATABASE_URL}}
#
# 4. 환경별 설정:
#    - Production: 실제 API 키와 보안 설정
#    - Development: 테스트용 더미 값들
# ================================================================
